# The AWS Multi-Region Starter Guide - Transcript

DAWN: Hello!  Once again it is good to be here, for what will hopefully be the final edition virtually of the Melbourne AWS user group for the foreseeable future!  And today, as Rob said, we are going on another detour into the world of ProductCorp, with their AWS multi-region starter guide.

First of all, I would like to acknowledge the Wurundjeri people of the Kulin Nation, on whose land I am presenting from tonight.  This is, and always will be, Aboriginal land.  Their sovereignty was never ceded.

Rob has done the introduction justice, as per usual.  But, for avoidance of doubt, my name is Dawn.  Ah, at present I am doing cloud security and DevOps at Innablr, and yes, we are hiring, as probably everyone else is these days.  And I'm really really eager to be able to holiday overseas again, because the borders have been shut for nearly two years at this point, and they're just starting to open - and I have to go and renew an Australian passport at some point!

Outside of work I am an occasional author and kitchen alchemist - sometimes that ends really well, sometimes it doesn't - I am also a raging sportsball fan which is why that picture of me is me in a Boston Bruins sweater.

So when I came here last month to talk about Control Tower slightly more than 12 months on from my previous presentation, we had a discussion about ProductCorp's new mergers and acquisitions unit.  And - their first target in terms of mergers and acquisitions was a payments processing company called Fly Money.  ProductCorp essentially - they're a startup, they have a head office in Sydney, but essentially the bread and butter of what they do is e-commerce software.  They have two flagship products; one called SellIt which is a managed online shopping platform, and one called BuyIt which is effectively software as a service for inventory management sorts of things that retailers might need.  They've been around for about seven years and they run on AWS, but the reality of running ecommerce software is that you have to have a payments processor in there somewhere.  And so ProductCorp, in their infinite wisdom, decided that they were going to- cut out the middleman, and they were going to go out and buy themselves Fly Money this small payments processing company.

And as you might remember from last month's talk, that hasn't gone well for them so far.  Because Fly Money is tiny; they're based in Melbourne, erm, but they operate worldwide.  So obviously they operate in Australia, New Zealand, that's where they came up.  But the really interesting thing is that there are certain parts of the world where the vast majority of payment processing, and indeed the vast majority of- technical interactions in general, are done solely via mobile phone.  Regions that have effectively bypassed the desktop.  So we're looking here at places like East and Southeast Africa.  And that is everywhere from Kenya to Namibia.  That's a huge swath of the continent is a really big market for Fly Money.  Likewise a lot of South America, very heavy on mobile phone usage, and some areas of Eastern Europe.  And this is where Fly Money have really found their market.

Now, from last month, we know that Fly Money's AWS set up is a bit of a disaster.  It consists of three AWS accounts, there we are no real clear boundaries about what goes where, and these three AWS accounts are running workloads in seven different regions.  So obviously they've got the `ap-southeast-2`, they run in Sydney, so that's where they've got all of their SSO, that's where they've got all of their initial infrastructure.  However, because a lot of the Eastern European countries that they serve are in the EU, they are actually running in two different EU regions; they're running in Éire, and they're running in Paris.  Thinking there effectively being a degree of regional replication and they can route different customers through different places.  They also run, eahh, instances in Hong Kong.  Now the reason for that is if you're doing anything related to payments processing, Hong Kong is actually a really large financial market.  For a similar reason, they do also run workloads in Northern Virginia, because it's the most stable of the US regions, it's also closest to DC.  And so that is covering off for them effectively a lot of the Asian market banking-wise, also covering off a lot of the US market banking-wise.

And in terms of regions that were released recently, as Fly Money have sort of noticed that a lot of their customers are around - East-Southeast Africa and South America, they have actually made use of a couple of AWS regions that have not been around for all that long.  And that- those are, the AWS region in São Paulo `sa-east-1`, and `af-south-1` in Cape Town.  Idea there obviously being; you want your workloads to be really close to your customers, reduce latency, and also potentially gets you out of hot water in terms of data protection issues.

Unfortunately for, ah, our poor long-suffering friend Ben Nguyen, Fly Money's regional setup is as much of a disaster as their AWS account setup was.  Now Ben is ProductCorp's Head of Engineering, and they're very passionate about improving infrastructure in general.  Which is probably a good thing, because the task that they're taking on at this point is starting to look quite titanic.  They have over 10 years of experience, but, also fortunately for- everyone at ProductCorp, they've mainly worked for startups, so it's not like it's the first time that they've ever seen something like this done really poorly and in a very slapdash way.

The first question that one kind of has to ask oneself when looking at the matter of- running things in multiple AWS regions is, what does region actually mean?  And the really [slowly] interesting sort of aspect to this is that - region, the meaning of the word region, is not the same across all of the different cloud providers.  And actually if you were in pretty well everyone other than AWS, but certainly Azure, and to a degree as well GCP, region does not mean a separation of concerns.  In the other cloud providers, it's really easy to go in and aggregate resources across regions to actually understand how all of your workloads are running, and then to drill deep down and actually break things down into individual regions so that you can compare things.  It's also very easy to make sure that you've got consistency across regions if that's something that you want to do.

However, in AWS, the regions are designed to be totally isolated from one another.  If you're in Azure, and- I believe if you're in GCP as well, although I've not played around with it as much, there is no dropdown like the one that you get in the AWS console that indicates that you have to actually choose a region.  The CLI is configured very differently.  You'll, in certain situations, be deploying things to particular regions, but it is possible to go in and actually aggregate everything across regions.  But AWS doesn't have that same capability built in.  The assumption in AWS is that regions are, as much as possible, entirely isolated from one another.  It's not just accounts that have a separation of concerns; regions do too.

Now Ben has touched Azure in the past, ah, has dabbled in GCP, and what they end up coming up with investigating the tangled mess that is Fly Money's services is a wishlist of things that they want and things that they want to be able to do.  And that starts with a few really obvious things; like consistency across regions.  They want to make sure that everything that is being deployed is, as much as possible, and as much as required, the same.  They want a discovery strategy.  So, some way to actually make sure that what should be running in particular regions is running in particular regions, to be able to check workloads across different regions, and also to be able to see whether there's anything that's running in particular regions that shouldn't be.  And as part of that, they actually want a unified cross-region search that will allow them to drill down and be able to look at particular resources across the AWS regions.  They want a reasonable cost for dev environments.  And so, effectively, this is a matter of obviously, ProductCorp - well, not obviously, but ProductCorp has only ever run anything in Sydney.  So what happens now that Fly Money has been brought in, and potentially you have to run seven different regions worth of dev environments - Ben wants a solution for that but it is not going to involve massive cost blowouts.

[Back to main talks repo](https://github.com/lisushka/talks)
